<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0,maximum-scale=1,minimum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=8">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <title>Document</title>
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/style.css">
</head>

<body id="index">
    <div class="bg">
        <img src="./img/1.png" alt="" class="part1">
        <img src="./img/2.png" alt="" class="part2">
        <img src="./img/3.png" alt="" class="part3">
    </div>
    <div class="main">
        <form>
            <div class="item">
                <img src="./img/tel.png" alt="">
                <input type="text" placeholder="请输入手机号码">
            </div>
            <div class="code">
                <div class="item">
                    <img src="./img/codeIcon.png" alt="">
                    <input type="text" placeholder="请输入验证码">
                </div>
                <div class="btn">发送验证码</div>
            </div>
        </form>
        <div class="btn submit">立即抢购</div>
        <p class="more">了解更多产品内容</p>
    </div>
    <div class="pupop">
        <!-- 成功 -->
        <div class="success">
            <img src="./img/close.png" alt="" class="close">
            <p>已提交领取申请，成功受理信息请以中
                国移动下发的短信为准，目前由于订购
                用户较多，短信可能会有时延，请耐心
                等待，感谢您对中国移动的支持。
            </p>
        </div>
        <!-- 将订购 -->
        <div class="orderBefore">
            <p>
                <span>您将订购头条抖音包联合会员版，功能费6.6元/月，前三月全额返费。</span>
             (如您之前有订购其他头条系定向流量月包，将自动为您退订原有包月产品，次月开始生效此产品)
            </p>
            <div class="btn1">
                去订购
            </div>
        </div>
        <!-- 已领取 -->
        <div class="got">
            <p>
                您已领取过头条系首三月全额返费流量包
                （联合会员版）。
                <span>点击继续订购，畅享9元15G定向流量。</span>
            </p>
            <div class="btn1">
                去订购
            </div>
        </div>
        <div class="rule_docs">
            <p class="rule_docs_p">
                系统自动提供文字系统自动提供文字系统 自动提供文字 系统自动提供文字系统自动提供文字系统 自动提供文字 系统自动提供文字系统自动提供文字系统 自动提供文字 系统自动提供文字系统自动提供文字系统 自动提供文字
                系统自动提供文字系统自动提供文字系统 自动提供文字
            </p>
            <div class="btn1 close">
                确认
            </div>
        </div>
    </div>
</body>

</html>
<script src="./js/rem.js"></script>
<script src="./js/zepto.min.js"></script>
<script>
    $(document).ready(function () {
        
        $('.submit').click(function () {
            $('.pupop').show()

            // 三个弹窗
            // $('.success').show()
            // $('.got').show()
            // $('.orderBefore').show()

            // 测试代码
            if (!window.aa) {
                window.aa = 0
            }
            switch (window.aa++) {
                case 0:
                    $('.success').show()
                    break;
                case 1:
                    $('.got').show()
                    break;
                case 2:
                    $('.orderBefore').show()
                    window.aa = 0
                    break;
            }
        })

        $('.more').click(function () {
            $('.pupop').show()
            $('.rule_docs').show()
        })


        $('.btn1').click(function () {
            close()
        })

        $('.close').click(function () {
            close()
        })

        function close() {
            $('.pupop').hide()
            $('.pupop > div').hide()
        }

        // 弹窗时,禁止页面滚动
        $('.pupop').on('touchmove', function (event) {
            if (event.target.className.indexOf('rule_docs_p') == -1) {
                event.preventDefault()
            }
        })


        /**
         * 背景分为了三部分,中间部分做拉伸,根据屏幕高度,动态设置中间部分的高度
         * */
        var bodyH = document.querySelector("body").offsetHeight
        var part1 = document.querySelector(".bg .part1").offsetHeight || 366
        var part3 = document.querySelector(".bg .part3").offsetHeight || 180
        console.log('bodyH', bodyH, 'part1', part1, 'part3', part3, 'part2', bodyH - part1 - part3)
        $('.part2').css('height', bodyH - part1 - part3)
    });
</script>